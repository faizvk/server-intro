âœ… PART 1: CORE DATABASE & CRUD QUESTIONS
âœ… 1. What is the difference between create() and insertMany()?
âœ… Perfect Answer:

create() inserts a single document and runs validation and middleware.
insertMany() inserts multiple documents at once, is much faster, and skips middleware by default.
For bulk inserts, insertMany() is always preferred for performance.

âœ… 2. Difference between find(), findOne(), and findById()?
âœ… Perfect Answer:

find() â†’ returns array of documents

findOne() â†’ returns first matching document

findById() â†’ finds directly by _id and throws CastError on invalid ObjectId

âœ… 3. What is field projection?
âœ… Perfect Answer:

Field projection means selecting which fields to include or exclude using .select().

Examples:

.select("name email") â†’ include

.select("-password") â†’ exclude

.select("+password") â†’ force include hidden field

Used for security and performance.

âœ… 4. What is .lean() and why is it used?
âœ… Perfect Answer:

.lean() returns plain JavaScript objects instead of Mongoose documents, making queries faster and lighter. It is used when we donâ€™t need document methods or virtuals.

âœ… 5. What is a CastError?
âœ… Perfect Answer:

A CastError happens when an invalid value is passed where MongoDB expects an ObjectId, for example /users/123. It must be handled with a 400 Bad Request.

âœ… 6. Explain comparison operators in MongoDB.
âœ… Perfect Answer:

$gt â†’ greater than

$lt â†’ less than

$gte â†’ greater or equal

$lte â†’ less or equal

$eq â†’ equal

$ne â†’ not equal

Used for filtering numeric and date values.

âœ… 7. Explain logical operators.
âœ… Perfect Answer:

$and â†’ all conditions must match

$or â†’ any condition matches

$nor â†’ none match

$not â†’ negates a condition

Used for advanced multi-condition filtering.

âœ… 8. What is $exists and $type?
âœ… Perfect Answer:

$exists checks if a field is present

$type checks the data type of a field
Used for data validation, audits, and migrations.

âœ… 9. What is $in and $nin?
âœ… Perfect Answer:

$in matches values from a list

$nin excludes values from a list
Used for role-based filters, categories, and tags.

âœ… 10. What is regex search and what does i mean?
âœ… Perfect Answer:

$regex is used for pattern-based string searching.
The i option makes the search case-insensitive.
Used for search bars and filtering systems.

âœ… PART 2: SORTING & PAGINATION (MUST-PASS SECTION)
âœ… 11. How does sorting work in MongoDB?
âœ… Perfect Answer:

Sorting is done using .sort({ field: 1 }) for ascending and .sort({ field: -1 }) for descending order.

âœ… 12. What is pagination?
âœ… Perfect Answer:

Pagination means fetching data page by page using .skip() and .limit() to avoid loading large datasets into memory.

âœ… 13. What is the pagination formula?
âœ… Perfect Answer:
skip = (page - 1) * limit

âœ… 14. Why is skip() slow on big data?
âœ… Perfect Answer:

Because MongoDB still scans the skipped records internally. For large systems, cursor-based pagination using _id or createdAt is preferred.

âœ… PART 3: UPDATE & DELETE (VERY IMPORTANT)
âœ… 15. Difference between updateOne() and findByIdAndUpdate()?
âœ… Perfect Answer:

updateOne() updates without returning the updated document.
findByIdAndUpdate() updates and can return the updated document using new: true, so it is preferred for APIs.

âœ… 16. Why should $set be used in updates?
âœ… Perfect Answer:

$set ensures that only specific fields are updated and prevents accidental overwriting of the entire document.

âœ… 17. Difference between deleteOne() and findByIdAndDelete()?
âœ… Perfect Answer:

Both delete a document, but findByIdAndDelete() is a shortcut specifically for _id and returns the deleted document.

âœ… PART 4: AGGREGATION PIPELINE CONCEPTS (HIGHEST IMPACT)
âœ… 18. What is aggregation in MongoDB?
âœ… Perfect Answer:

Aggregation is a pipeline-based data processing system where documents pass through multiple transformation stages like filtering, grouping, sorting, and joining to produce analytics.

âœ… 19. What does $match do?
âœ… Perfect Answer:

$match filters documents inside a pipeline like find() and should be placed as early as possible for performance.

âœ… 20. What does $group do?
âœ… Perfect Answer:

$group groups documents by a key and performs calculations like $sum, $avg, $min, $max.

âœ… 21. What does $project do?
âœ… Perfect Answer:

$project reshapes the output by selecting, renaming, or removing fields from the result.

âœ… 22. Explain $group + $sum: 1.
âœ… Perfect Answer:

$sum: 1 adds 1 per document, effectively counting how many documents exist in each group.

âœ… 23. What is $lookup?
âœ… Perfect Answer:

$lookup performs a LEFT OUTER JOIN between two collections, attaching related documents as an array.

âœ… 24. Why is $lookup expensive?
âœ… Perfect Answer:

Because it performs cross-collection matching. The foreignField must be indexed for good performance.

âœ… 25. What is $unwind?
âœ… Perfect Answer:

$unwind breaks an array field into multiple documents, one per element.

âœ… 26. What is $addFields / $set in aggregation?
âœ… Perfect Answer:

They add computed fields inside the pipeline without modifying the database.

âœ… 27. What is $unset?
âœ… Perfect Answer:

It removes fields from the aggregation output, usually for security like removing passwords.

âœ… 28. What is $replaceRoot?
âœ… Perfect Answer:

It replaces the entire document with a sub-document, used for flattening deep objects.

âœ… 29. What is $facet?
âœ… Perfect Answer:

$facet allows running multiple independent pipelines in parallel in a single aggregation query. It is used for dashboards.

âœ… 30. What is $bucket?
âœ… Perfect Answer:

$bucket groups data into fixed numerical ranges such as age groups or salary ranges.

âœ… 31. What is $bucketAuto?
âœ… Perfect Answer:

It automatically creates buckets based on data distribution without fixed boundaries.

âœ… 32. What is $sortByCount?
âœ… Perfect Answer:

It is a shortcut that automatically performs grouping + counting + sorting in one stage.

âœ… 33. What is $count in aggregation?
âœ… Perfect Answer:

$count returns the total number of documents passing through the pipeline as a field.

âœ… PART 5: LOGIN & SECURITY (INTERVIEW FAVORITE)
âœ… 34. Why do we use .select("+password") during login?
âœ… Perfect Answer:

Because the password field is hidden in the schema using select: false, so it must be explicitly included during authentication.

âœ… 35. Why should passwords not be stored as plain text?
âœ… Perfect Answer:

For security. Passwords must always be hashed using bcrypt to prevent data breaches.

âœ… FINAL MASTER INTERVIEW ANSWER (YOU CAN USE THIS ANYWHERE)

â€œIn MongoDB using Mongoose, I handle CRUD using create, find, findById, findByIdAndUpdate, and deleteOne. Advanced querying is handled using comparison operators, logical operators, projection with .select, pagination with .skip and .limit, and regex for search. For analytics, I use aggregation pipelines with $match, $group, $project, $sort, $lookup for joins, $unwind for arrays, $facet for dashboards, and $bucket for histogram analysis.â€

âœ… This is a senior-level summary answer.

âœ… YOUR CURRENT LEVEL (HONEST ASSESSMENT)

âœ… CRUD Mastery â†’ âœ…
âœ… Query Operators â†’ âœ…
âœ… Pagination â†’ âœ…
âœ… Regex â†’ âœ…
âœ… Joins â†’ âœ…
âœ… Aggregation â†’ âœ…
âœ… Dashboard Analytics â†’ âœ…

ğŸ¯ You are now FULLY INTERVIEW-READY for MongoDB & Mongoose.